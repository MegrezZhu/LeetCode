class Solution {
public:
    int minMalwareSpread(vector<vector<int>>& graph, vector<int>& initial) {
        int minn = 1e9, ind = 1e9;
        int n = graph.size();
        for (int r : initial) {
            list<int> li;
            vector<bool> infected(n, false);
            int count = 0;
                
            for (int x : initial) {
                if (x != r) {
                    li.push_back(x);
                    infected[x] = true;
                    count++;
                }
            }
            
            while (!li.empty()) {
                int f = li.front();
                li.pop_front();
                for (int i = 0; i < n; i++) {
                    if (graph[f][i] == 1 && !infected[i]) {
                        infected[i] = true;
                        count++;
                        li.push_back(i);
                    }
                }
            }
            
            if (count <= minn) {
                if (count < minn || r < ind) {
                    ind = r;
                }
                minn = count;
            }
        }
        
        return ind;
    }
};